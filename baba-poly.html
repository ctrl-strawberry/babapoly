<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baba Poly</title>
  <link rel="stylesheet" href="css/baba-poly.css">
  <link rel="stylesheet" href="css/navbar.css">
</head>
<body>
  <div class="app-shell">
    <header id="homeHeader">
      <h1>BABAPOLY</h1>
      <button class="settings-btn" id="settingsToggle" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 8.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm9.94 3.19l-2.09-.33a7.24 7.24 0 00-.56-1.36l1.21-1.8a.75.75 0 00-.1-.94L18.74 4.9a.75.75 0 00-.94-.1l-1.8 1.21a7.24 7.24 0 00-1.36-.56l-.33-2.09A.75.75 0 0013.58 3h-3.16a.75.75 0 00-.74.64l-.33 2.09a7.24 7.24 0 00-1.36.56l-1.8-1.21a.75.75 0 00-.94.1L3.04 7.26a.75.75 0 00-.1.94l1.21 1.8a7.24 7.24 0 00-.56 1.36l-2.09.33a.75.75 0 00-.64.74v3.16c0 .38.28.7.64.74l2.09.33c.13.47.3.92.56 1.36l-1.21 1.8a.75.75 0 00.1.94l2.22 2.22a.75.75 0 00.94.1l1.8-1.21c.44.26.89.43 1.36.56l.33 2.09c.05.36.36.64.74.64h3.16c.38 0 .7-.28.74-.64l.33-2.09c.47-.13.92-.3 1.36-.56l1.8 1.21c.28.19.66.16.94-.1l2.22-2.22c.26-.28.29-.66.1-.94l-1.21-1.8c.26-.44.43-.89.56-1.36l2.09-.33c.36-.05.64-.36.64-.74v-3.16a.75.75 0 00-.64-.74z"></path>
        </svg>
        Ajustes
      </button>
    </header>
    <main>
      <section id="screen-inicio" class="active">
        <div class="player-toolbar" id="playerToolbar" hidden>
          <button id="addPlayerBtn">Añadir jugador</button>
          <span class="helper-text">Gestiona jugadores desde el modo ajustes.</span>
        </div>
        <div class="player-list" id="playerList"></div>
        <p class="helper-text">
          Pulsa dos jugadores para transferir dinero. Activa los ajustes para añadir o eliminar jugadores.
        </p>
      </section>

      <section id="screen-jimbo">
        <h2 class="section-title">Jimbo Arena</h2>
        <p class="helper-text">
          Selecciona un jugador para enviar a su mascota a una batalla por turnos. Gana para subir de nivel y conseguir más dinero.
        </p>
        <div id="jimboSelect" class="selector-grid"></div>
        <div id="battleStage" class="battle-stage" hidden>
          <div class="battle-scene">
            <img src="assets/campo.gif" alt="Campo de batalla" loading="lazy">
            <div class="battle-info battle-info-player">
              <div class="battle-info-head">
                <span id="playerPetLabel" class="battle-info-name"></span>
                <div class="battle-info-level" id="playerLevelLabel"></div>
              </div>
              <div class="bar">
                <div class="bar-fill" id="playerHealthFill"></div>
                <span class="bar-value" id="playerHealthText"></span>
              </div>
            </div>
            <div class="battle-info battle-info-enemy">
              <div class="battle-info-head">
                <span id="enemyLabel" class="battle-info-name"></span>
                <div class="battle-info-level" id="enemyLevelLabel"></div>
              </div>
              <div class="bar">
                <div class="bar-fill enemy" id="enemyHealthFill"></div>
                <span class="bar-value" id="enemyHealthText"></span>
              </div>
            </div>
            <img src="assets/mascota.webp" alt="Mascota del jugador" class="battle-character battle-character-player" loading="lazy">
            <img src="assets/enemigo.gif" alt="Enemigo" class="battle-character battle-character-enemy" loading="lazy">
          </div>
          <div class="battle-panel">
            <div id="attackGrid" class="attack-grid"></div>
          </div>
        </div>
      </section>

      <section id="screen-ruleta">
        <h2 class="section-title">Ruleta Baba</h2>
        <p class="helper-text">
          Elige un jugador, apuesta una cantidad y selecciona un número. Si aciertas, multiplicas tu dinero. Después de jugar volverás a Inicio con el resultado.
        </p>
        <div class="roulette-panel">
          <div class="card">
            <label for="roulettePlayer">Jugador</label>
            <select id="roulettePlayer"></select>
            <label for="rouletteAmount">Cantidad a apostar</label>
            <input type="number" id="rouletteAmount" min="10" step="10" value="50">
            <label for="rouletteNumber">Número (0 - 36)</label>
            <input type="number" id="rouletteNumber" min="0" max="36" value="7">
            <button class="btn btn-primary" id="spinBtn">Girar ruleta</button>
            <span class="helper-text" id="rouletteHelper"></span>
          </div>
          <div class="roulette-wheel" id="rouletteWheel">
            <div class="roulette-pointer"></div>
            <strong id="rouletteResult">?</strong>
          </div>
        </div>
      </section>
    </main>
  </div>

  <template id="playerCardTemplate">
    <button class="player-card" type="button">
      <div class="player-card-content">
        <div class="player-card-info">
          <div class="player-name"></div>
          <div class="player-money"></div>
        </div>
        <div class="player-actions" hidden>
          <button class="icon-btn" data-action="delete" title="Eliminar jugador">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M9 3a1 1 0 00-.894.553L7.382 5H4a1 1 0 100 2h1l.757 12.132A2 2 0 007.75 21h8.5a2 2 0 001.993-1.868L19 7h1a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0015 3H9zm3 5a1 1 0 011 1v8a1 1 0 11-2 0v-8a1 1 0 011-1zm-3 1a1 1 0 012 0v8a1 1 0 11-2 0v-8zm6 0a1 1 0 012 0v8a1 1 0 11-2 0v-8z"/>
            </svg>
          </button>
        </div>
      </div>
    </button>
  </template>

  <template id="playerSelectCard">
    <div class="card">
      <strong class="player-name"></strong>
      <span class="helper-text player-money"></span>
      <button class="btn btn-primary">Enviar mascota</button>
    </div>
  </template>

  <div id="modalContainer"></div>
  <div id="toastLayer" aria-live="polite"></div>

  <nav class="bottom-nav" aria-label="Navegación principal">
    <div class="tabs-container">
      <div class="bottom-tabs">
        <input class="tab-input" type="radio" name="bottom-nav" id="bottom-nav-inicio" data-screen="inicio" checked>
        <label class="tab" for="bottom-nav-inicio" aria-label="Ir a Inicio">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M11.47 2.47a.75.75 0 0 1 1.06 0l8.25 8.25a.75.75 0 0 1-.53 1.28H19.5v7.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-4.5h-2.5v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75V12H3.75a.75.75 0 0 1-.53-1.28l8.25-8.25Z"/>
          </svg>
        </label>

        <input class="tab-input" type="radio" name="bottom-nav" id="bottom-nav-jimbo" data-screen="jimbo">
        <label class="tab" for="bottom-nav-jimbo" aria-label="Ir a Jimbo">
          <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <circle cx="6.2" cy="9" r="2.3"/>
            <circle cx="9.6" cy="5.4" r="2.3"/>
            <circle cx="14.4" cy="5.4" r="2.3"/>
            <circle cx="17.8" cy="9" r="2.3"/>
            <path d="M12 12.2c-3.1 0-5.6 2.5-5.6 5.6 0 1.8 1.4 3.2 3.2 3.2 1 0 1.9-.4 2.6-1 .7.6 1.6 1 2.6 1 1.8 0 3.2-1.4 3.2-3.2 0-3.1-2.5-5.6-5.6-5.6Z"/>
          </svg>
        </label>

        <input class="tab-input" type="radio" name="bottom-nav" id="bottom-nav-ruleta" data-screen="ruleta">
        <label class="tab" for="bottom-nav-ruleta" aria-label="Ir a Ruleta">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="8.5" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="12" cy="12" r="3" fill="currentColor"/>
            <path d="M12 3.5V8M20.5 12H16M12 20.5V16M3.5 12H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M6.2 6.2l3.1 3.1M17.8 6.2l-3.1 3.1M17.8 17.8l-3.1-3.1M6.2 17.8l3.1-3.1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </label>

        <span class="glider" aria-hidden="true"></span>
      </div>
    </div>
  </nav>

  <script type="module" src="js/main.js"></script>
</body>
</html>
